{"remainingRequest":"/Users/lalow_/Desktop/Front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lalow_/Desktop/Front/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lalow_/Desktop/Front/src/views/Register.vue","mtime":1616322460000},{"path":"/Users/lalow_/Desktop/Front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lalow_/Desktop/Front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lalow_/Desktop/Front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lalow_/Desktop/Front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGF1dGhBcGkgZnJvbSAnQC9hcGkvYXV0aC5qcycKZXhwb3J0IGRlZmF1bHQgewogIGJlZm9yZUNyZWF0ZSgpIHsKICAgIHRoaXMuZm9ybSA9IHRoaXMuJGZvcm0uY3JlYXRlRm9ybSh0aGlzLCB7IG5hbWU6ICdub3JtYWxfbG9naW4nIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU3VibWl0KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLmZvcm0udmFsaWRhdGVGaWVsZHMoIGFzeW5jIChlcnIsIHZhbHVlcykgPT4gewogICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgdmFsdWVzIG9mIGZvcm06ICcsIHZhbHVlcyk7CiAgICAgICAgICBsZXQgcmVzID0gYXdhaXQgYXV0aEFwaS5yZWdpc3RlclVzZXIodmFsdWVzKQogICAgICAgICAgaWYgKHJlcy5lcnJvciA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzZXNzaW9uJywgcmVzLnNlc3Npb24pOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3N0YXJ0JykKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ9Cf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjCDRgSDRgtCw0LrQuNC8INC40LzQtdC90LXQvCDRg9C20LUg0YHRg9GJ0LXRgdGC0LLRg9C10YInKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<a-row type=\"flex\" justify=\"center\">\n  <a-col :span=\"35\">\n    <div class=\"box\">\n      <h2 style=\"font-size: 20pt;\">Регистрация</h2>\n        <a-form\n          id=\"components-form\"\n          :form=\"form\"\n          class=\"form\"\n          @submit=\"handleSubmit\"\n        >\n          <a-form-item>\n            <a-input\n              v-decorator=\"[\n                'login',\n                { rules: [{ required: true, message: 'Введите имя!' }] },\n              ]\"\n              placeholder=\"Username\"\n              style=\"font-size: 20pt; height: 60px\"\n            >\n              <a-icon slot=\"prefix\" type=\"user\" style=\"color: rgba(0,0,0,.25)\" />\n            </a-input>\n          </a-form-item>\n          <a-form-item style=\"font-size: 20pt;\">\n            <a-input\n              v-decorator=\"[\n                'password',\n                { rules: [{ required: true, message: 'Введите пароль!' }] },\n              ]\"\n              type=\"password\"\n              placeholder=\"Password\"\n              style=\"font-size: 20pt; height: 60px\"\n            >\n              <a-icon slot=\"prefix\" type=\"lock\" style=\"color: rgba(0,0,0,.25)\" />\n            </a-input>\n          </a-form-item>\n          <a-form-item style=\"font-size: 20pt;\">\n            <a-button type=\"primary\" html-type=\"submit\" class=\"form-button\" style=\"margin-bottom: 15px;\">\n              Зарегистрироваться\n            </a-button>\n            или\n            <router-link to=\"/auth\" style=\"color: #5a0000\">\n              Войти\n            </router-link>\n          </a-form-item>\n        </a-form>\n      </div>\n    </a-col>\n</a-row>\n</template>\n\n<script>\nimport * as authApi from '@/api/auth.js'\nexport default {\n  beforeCreate() {\n    this.form = this.$form.createForm(this, { name: 'normal_login' });\n  },\n  methods: {\n    handleSubmit(e) {\n      e.preventDefault();\n      this.form.validateFields( async (err, values) => {\n        if (!err) {\n          console.log('Received values of form: ', values);\n          let res = await authApi.registerUser(values)\n          if (res.error === undefined) {\n            console.log(res);\n            localStorage.setItem('session', res.session);\n            this.$router.push('/start')\n          } else {\n            this.$message.error('Пользователь с таким именем уже существует');\n          }\n        }\n      });\n    },\n  },\n};\n</script>\n<style>\n#components-form .form {\n  max-width: 300px;\n}\n#components-form .form-button {\n  width: 100%;\n  font-size: 20pt;\n  height: 75px;\n}\n.ant-input-affix-wrapper .ant-input:not(:first-child) {\n  padding-left: 50px;\n}\n</style>"]}]}