{"remainingRequest":"/Users/lalow_/Desktop/Front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lalow_/Desktop/Front/src/views/StartGame.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/lalow_/Desktop/Front/src/views/StartGame.vue","mtime":1650799321221},{"path":"/Users/lalow_/Desktop/Front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lalow_/Desktop/Front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lalow_/Desktop/Front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lalow_/Desktop/Front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lalow_/Desktop/Front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5wcm9maWxlIC5idXR0b24tZ3JvdXAgewogIG1hcmdpbi10b3A6IDIwcHg7Cn0KLnByb2ZpbGUgLmJ1dHRvbi1ncm91cCBidXR0b257CiAgbWFyZ2luLXRvcDogNXB4OwogIGZvbnQtc2l6ZTogMjBwdDsKICBoZWlnaHQ6IDU1cHg7Cn0KLm1pbmktcmF0aW5nIHsKICBtYXJnaW4tdG9wOiAxMHB4Owp9Ci5taW5pLXJhdGluZyBkaXYgewogIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwogIGZvbnQtc2l6ZTogMTZweDsKICB0ZXh0LWFsaWduOiBsZWZ0Owp9Ci50aXRsZS1wcm9maWxlIHsKCn0KLmFudC1hdmF0YXIgewogIGJhY2tncm91bmQ6ICNhZDc2OGY7CiAgYm9yZGVyOiAxcHggIzQ0MDUyMiBzb2xpZDsKfQojY29tcG9uZW50cy1mb3JtIC5mb3JtIHsKICBtYXgtd2lkdGg6IDMwMHB4Owp9CiNjb21wb25lbnRzLWZvcm0gLmZvcm0tYnV0dG9uIHsKICB3aWR0aDogMTAwJTsKfQoucGVyc29uLWxpc3QgewogIG1hcmdpbi10b3A6IDIwcHg7Cn0K"},{"version":3,"sources":["StartGame.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StartGame.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<a-row type=\"flex\" justify=\"center\" v-if=\"isLoaded\">\n  <a-col :span=\"24\">\n      <div class=\"box profile\">\n        <a-row class=\"title-profile\">\n          <a-col :span=\"8\">\n            <a-avatar :size=\"96\" :src=\"this.profileUser.pic\" />\n          </a-col>\n          <a-col :span=\"16\" class=\"mini-rating\">\n            <div style=\"font-size: 20pt\">Имя: {{profileUser.names}}</div>\n            <div style=\"font-size: 20pt\">Игр сыграно: {{profileUser.count_game}}</div>\n            <div style=\"font-size: 20pt\">Максимально дней: {{profileUser.max_point}}</div>\n          </a-col>\n        </a-row>\n        <div class=\"button-group\">\n          <a-button @click=\"toChoicePers\" block>Начать игру</a-button>\n          <a-button v-if=\"profileUser.continue\" @click=\"toGame\" block>Продолжить игру</a-button>\n          <a-button @click=\"toRating\" block>Рейтинг</a-button>\n          <a-button @click=\"toMain\" block>Выход</a-button>\n        </div>\n\n        <div class=\"person-list\" v-if=\"profileUser.game_history && profileUser.game_history.length !== 0\">\n          <h1 block>История игр</h1>\n          <div v-for=\"item in profileUser.game_history\" style=\"border: 1px solid black;\">\n            <a-row>\n              <a-col :span=\"4\">\n                <img :src=\"item.pic\" height=\"60\" width=\"60\" style=\"margin-top: 5px;\"/>\n                <h3>{{item.name}}</h3>\n              </a-col>\n              <a-col :span=\"20\">\n                <table width=\"100%\" border=\"1\">\n                  <tr>\n                    <th>Информационное здоровье</th>\n                    <th>Деньги</th>\n                    <th>Очки</th>\n                    <th>Прожито дней</th>\n                  </tr>\n                  <tr>\n                    <td>{{item.health}}</td>\n                    <td>{{item.money}}₽</td>\n                    <td>{{item.point}}</td>\n                    <td>{{item.round}}</td>\n                  </tr>\n                </table>\n              </a-col>\n            </a-row>\n          </div>\n\n        </div>\n      </div>\n  </a-col>\n</a-row>\n</template>\n\n<script>\n  import {getPerson, getProfile} from \"../api/auth\";\n  import { getGame } from \"@/api/game\"\n  import LineChart from '../store/LineChart.js'\nexport default {\n    components: {\n      LineChart,\n    },\n  data() {\n    return {\n      newGame: Boolean,\n      isLoaded: false,\n      persons: [],\n      profileUser: undefined,\n      progress: null,\n    }\n  },\n  methods: {\n    toGame () {\n      this.$router.push({ path: '/game', query: { type: 'resume' } })\n    },\n    toChoicePers: function() {\n      this.$router.push('/choice')\n    },\n    toRating: function() {\n      this.$router.push('/rating');\n    },\n    toMain: function() {\n      localStorage.removeItem('session');\n      this.$router.push('/');\n    },\n    getMyProfile: function () {\n      // получение информации о пользователе\n      let profile = getProfile()\n      console.log(profile);\n      if (profile !== false) {\n        this.profileUser = profile;\n        profile.then(val => {\n          this.profileUser = val\n          console.log(\"Профиль: \", this.profileUser)\n          var tmpArr = [];\n          if (val.game_history && val.game_history > 0) {\n            val.game_history.forEach(param => {\n              tmpArr.push({\n                data: [param.round, param.round],\n                backgroundColor: '#1b68b3'\n              });\n            });\n          }\n          Chart.defaults.global.legend.display = false;\n          this.progress = {\n            datasets: tmpArr\n          };\n        });\n      } else {\n        this.$message.error('Ошибка получения профиля');\n      }\n    },\n    getAllPerson: function () {\n      // получение всех персонажей\n      let res = getPerson()\n      if (res !== false) {\n        res.then(val => {\n          this.persons = val;\n          console.log(\"Персонажи: \", this.persons);\n        });\n      } else {\n        this.$message.error('Ошибка получения персонажей');\n      }\n    }\n  },\n  mounted() {\n    this.getMyProfile();\n    this.getAllPerson();\n    this.isLoaded = true;\n  },\n};\n</script>\n<style>\n.profile .button-group {\n  margin-top: 20px;\n}\n.profile .button-group button{\n  margin-top: 5px;\n  font-size: 20pt;\n  height: 55px;\n}\n.mini-rating {\n  margin-top: 10px;\n}\n.mini-rating div {\n  text-decoration: underline;\n  font-size: 16px;\n  text-align: left;\n}\n.title-profile {\n\n}\n.ant-avatar {\n  background: #ad768f;\n  border: 1px #440522 solid;\n}\n#components-form .form {\n  max-width: 300px;\n}\n#components-form .form-button {\n  width: 100%;\n}\n.person-list {\n  margin-top: 20px;\n}\n</style>\n"]}]}