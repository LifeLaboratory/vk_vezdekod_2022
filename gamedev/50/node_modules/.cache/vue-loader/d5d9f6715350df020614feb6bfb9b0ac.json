{"remainingRequest":"/Users/lalow_/Desktop/Front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lalow_/Desktop/Front/src/views/Game.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/lalow_/Desktop/Front/src/views/Game.vue","mtime":1650799341958},{"path":"/Users/lalow_/Desktop/Front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lalow_/Desktop/Front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lalow_/Desktop/Front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lalow_/Desktop/Front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lalow_/Desktop/Front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnJpZ2h0IHsKICBtYXJnaW4tbGVmdDogMTVweDsKfQoKLmxlZnQgewogIG1hcmdpbi1yaWdodDogMTVweDsKfQoKLmxlZnQgPiAuYW50LWJ0bi1pY29uLW9ubHkgewogIHdpZHRoOiA2NHB4OwogIGhlaWdodDogNjRweDsKfQoKLnJpZ2h0ID4gLmFudC1idG4taWNvbi1vbmx5IHsKICB3aWR0aDogNjRweDsKICBoZWlnaHQ6IDY0cHg7Cn0KCi5vdXRlcjpiZWZvcmUgewogIGNvbnRlbnQ6ICcnOwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBoZWlnaHQ6IDEwMCU7CiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKfQoKLmlubmVyIHsKICB3aWR0aDogMTAwJTsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgbWFyZ2luLXRvcDogNTBweDsKfQoKLm91dGVyIHsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCi5sZWZ0LCAucmlnaHQsIC5jYXJkLWJveCB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwp9CgouY2VudGVyLW1lbnUgewogIG1hcmdpbi10b3A6IDgwcHg7CiAgd2lkdGg6IDMwJTsKICBtYXJnaW4tbGVmdDogMzUlOwp9CgouY2FyZC1ib3ggewogIHdpZHRoOiA5MCU7CiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpOwp9CgouYWN0dWFsLWRheSB7CiAgZm9udC1zaXplOiAyNHB4OwogIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTsKICBib3JkZXItcmFkaXVzOiAwcHggMHB4IDVweCA1cHg7CiAgd2lkdGg6IDUwJTsKICB0b3A6IDBweDsKICBtYXJnaW4tbGVmdDogMjUlOwp9CgouZ2FtZS1jb250YWluZXIgewogIGhlaWdodDogMTAwdmg7CiAgd2lkdGg6IDEwMHZ3Owp9CgouY2VudGVyLW1lbnUgewogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7Cn0KCi5zdGF0cy1nYW1lIHsKICBtYXJnaW4tbGVmdDogMzBweDsKICBtYXJnaW4tdG9wOiAxMHB4OwogIHRleHQtYWxpZ246IGxlZnQKfQoKLmFudC1wcm9ncmVzcy1saW5lIHsKICBtYXJnaW4tbGVmdDogMTBweDsKICB3aWR0aDogODAlICFpbXBvcnRhbnQ7Cn0KCi5ib3R0b20tbWVudSB7CiAgYm9yZGVyOiBzb2xpZCAxLjJweCBibGFjazsKICBib3JkZXItcmFkaXVzOiA1cHggNXB4IDBweCAwcHg7CiAgbGVmdDogMjUlOwogIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTsKICBtYXJnaW46IDUwcHggYXV0byAwOwp9Cgo="},{"version":3,"sources":["Game.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuOA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Game.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"game-container\">\n    <div class=\"top-menu\">\n      <div class=\"actual-day\" style=\"font-size: 28pt;\">\n        День - {{ day }}\n      </div>\n    </div>\n\n    <div class=\"bottom-menu\">\n        <a-row :span=\"3\">\n          <a-avatar :size=\"64\" :src=\"this.user.pic\" style=\"margin: 15px;\"/>\n        </a-row>\n        <a-row :span=\"24\" class=\"stats-game\" style=\"font-size: 14pt; padding-bottom: 15px;\">\n          <div>Информационное здоровье: {{user.health}}</div>\n          <div>Деньги: {{user.money}}₽</div>\n          <div>Очки: {{user.point}}</div>\n          <div>Прожито дней: {{user.round}}</div>\n          <a-button v-on:click=\"toProfile()\" style=\" float: left; font-size: 14pt; margin-top: 15px; height: 60px\">В профиль</a-button>\n        </a-row>\n    </div>\n\n    <div class=\"outer\" style=\"height:80vh; width: 100%;\" v-if=\"descr != ''\">\n      <div class=\"inner\">\n\n\n        <div class=\"card-box\">\n          <div\n              style=\"font-size: 20pt; word-wrap: break-word; padding-left: 10px; padding-right: 10px; padding-top: 50px;\">\n            <b v-html=\"descr\"></b><br />\n\n            <img :src=\"pic\" style=\"margin-top: 50px; max-height: 500px; max-width: 100%; margin-bottom: 50px;\" v-if=\"pic\"/>\n\n            <img src=\"../assets/confetti-4.gif\" style=\"margin-top: 15px; max-height: 500px; width: 90%; margin-bottom: 15px;\" v-if=\"this.show_fire\"/>\n            <a-button @click=\"toRating\" v-if=\"this.show_btn\"\n                      style=\"white-space: normal; justify-content: center; width: 100%; min-height: 100px; margin-bottom: 15px;\"\n                      block>Рейтинг</a-button>\n          </div>\n        </div>\n        <div style=\"\n            width: 90%;\n            margin-left: 5%;\n            background: rgba(255,255,255,0.8);\n            \">\n          <a-button v-for=\"(item, index) in this.answers\"\n                    style=\"white-space: normal; justify-content: center; width: 100%; min-height: 100px;\" :disabled=\"dis\"\n                    @click=\"sendAnswer(index)\">\n            {{ item.description }}\n          </a-button>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport {newGame, reloadGame, sendAnswer, resumeGame} from '@/api/game'\nimport {getProfile} from \"../api/auth\";\n\nexport default {\n  data() {\n    return {\n      dis: false,\n      user: {\n        name: '',\n        health: 0,\n        money: 0,\n        point: 0,\n        round: 0\n      },\n\n      pic: '',\n      day: 0,\n      left: '',\n      right: '',\n      descr: '',\n\n      leftAction: {},\n\n      show_btn: false,\n      show_fire: false\n\n    }\n  },\n  methods: {\n    toProfile: function () {\n      this.$router.push('/start');\n    },\n    toRating: function() {\n      this.$router.push('/rating');\n    },\n\n    async startNewGame() {\n      let id = this.$route.query.id\n      if (!id) {\n        this.$router.push({path: 'start'})\n        return\n      }\n      this.$router.replace({id: '-1'})\n\n\n      let res = await newGame(localStorage.getItem('session'), id)\n      this.day = res.round\n      this.descr = res.description\n      this.left = res.left_answer\n      this.right = res.right_answer\n      this.pic = false;\n\n      this.pic = res.pic\n      this.user.pic = res.person_pic\n      this.user.name = res.name\n      this.user.health = res.health\n      this.user.money = res.money\n      this.user.point = res.point\n      this.user.round = res.round\n      this.answers = res.answer;\n      this.end_game = res.end_game;\n\n      let profile = getProfile()\n      if (profile !== false) {\n        this.profileUser = profile;\n        profile.then(val => {\n          this.profileUser = val\n          console.log(\"Профиль: \", this.profileUser)\n          // this.user.pic = this.profileUser.pic;\n          this.user.name = this.profileUser.names;\n        });\n      }\n\n    },\n\n    async resumeGame() {\n      let res = await resumeGame(localStorage.getItem('session'))\n      this.day = res.round\n      this.descr = res.description\n      this.left = res.left_answer\n      this.right = res.right_answer\n      this.answers = res.answer;\n      this.end_game = res.end_game;\n\n      console.log(this.answers);\n\n      this.pic = res.pic\n      this.user.pic = res.person_pic\n      this.user.health = res.health\n      this.user.money = res.money\n      this.user.point = res.point\n      this.user.round = res.round\n\n\n      let profile = getProfile()\n      if (profile !== false) {\n        this.profileUser = profile;\n        profile.then(val => {\n          this.profileUser = val\n          console.log(\"Профиль: \", this.profileUser)\n          // this.user.pic = this.profileUser.pic;\n          this.user.name = this.profileUser.names;\n        });\n      }\n    },\n\n    async sendAnswer(ans) {\n      this.dis = true\n      this.pic = undefined;\n      let res = await sendAnswer(localStorage.getItem('session'), ans)\n      if (res.end === true) {\n        this.$warning({\n          title: `Вы проиграли. Прожито дней ${this.day}`\n        })\n        this.$router.push({path: 'start'})\n      }\n      console.log(res);\n      console.log(res.health)\n      console.log(this.user.health)\n      console.log(res.health - this.user.health)\n\n      this.day = res.round\n      this.descr = res.description\n      this.left = res.left_answer\n      this.right = res.right_answer\n      this.answers = res.answer;\n\n      this.user.health = res.health\n      this.user.money = res.money\n      this.user.point = res.point\n      this.user.round = res.round\n\n      this.dis = false\n\n      if (res.good_description !== undefined) {\n        this.$message.info(res.good_description);\n      }\n\n      if (res.end_game === true) {\n        this.answers = [];\n        this.show_btn = true;\n        if (this.user.health > 0 && this.user.money > 0) {\n          this.show_fire = true;\n          this.descr = \"Игра окончена!<br /><br />\"\n        } else {\n          this.descr = \"Вы проиграли :c <br /><br />\"\n        }\n      }\n    }\n\n  },\n  mounted() {\n\n    let profile = getProfile()\n    if (profile !== false) {\n      this.profileUser = profile;\n      profile.then(val => {\n        this.profileUser = val\n        console.log(\"Профиль: \", this.profileUser.pic);\n        this.user.pic = this.profileUser.pic;\n        this.user.name = this.profileUser.names;\n      });\n    }\n\n    let type = this.$route.query.type\n    if (type === 'resume') {\n      this.resumeGame()\n      return\n    }\n    this.startNewGame();\n  },\n\n};\n</script>\n<style>\n.right {\n  margin-left: 15px;\n}\n\n.left {\n  margin-right: 15px;\n}\n\n.left > .ant-btn-icon-only {\n  width: 64px;\n  height: 64px;\n}\n\n.right > .ant-btn-icon-only {\n  width: 64px;\n  height: 64px;\n}\n\n.outer:before {\n  content: '';\n  display: inline-block;\n  height: 100%;\n  vertical-align: middle;\n}\n\n.inner {\n  width: 100%;\n  display: inline-block;\n  margin-top: 50px;\n}\n\n.outer {\n  text-align: center;\n}\n\n.left, .right, .card-box {\n  display: inline-block;\n}\n\n.center-menu {\n  margin-top: 80px;\n  width: 30%;\n  margin-left: 35%;\n}\n\n.card-box {\n  width: 90%;\n  background: rgba(255, 255, 255, 0.8);\n}\n\n.actual-day {\n  font-size: 24px;\n  background: rgba(255, 255, 255, 0.8);\n  border-radius: 0px 0px 5px 5px;\n  width: 50%;\n  top: 0px;\n  margin-left: 25%;\n}\n\n.game-container {\n  height: 100vh;\n  width: 100vw;\n}\n\n.center-menu {\n  vertical-align: middle;\n}\n\n.stats-game {\n  margin-left: 30px;\n  margin-top: 10px;\n  text-align: left\n}\n\n.ant-progress-line {\n  margin-left: 10px;\n  width: 80% !important;\n}\n\n.bottom-menu {\n  border: solid 1.2px black;\n  border-radius: 5px 5px 0px 0px;\n  left: 25%;\n  background: rgba(255, 255, 255, 0.8);\n  margin: 50px auto 0;\n}\n\n</style>\n"]}]}